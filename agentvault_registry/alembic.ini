# A generic, single database configuration.

[alembic]
# path to migration scripts
script_location = alembic

# template for migration file names, e.g. %%(rev)s_%%(slug)s.py
# file_template = %%(rev)s_%%(slug)s

# sys.path path, will be prepended to sys.path if present.
# defaults to the current working directory.
# Add the 'src' directory relative to this ini file's location (alembic/)
# so env.py can find the models and config.
prepend_sys_path = ../src

# timezone setting for logging messages
# leave uncommented to use local time
# timezone = UTC

# Logging configuration - Adjust levels as needed (e.g., INFO for more detail)
[loggers]
keys = root,sqlalchemy,alembic

[handlers]
keys = console

[formatters]
keys = generic

[logger_root]
level = WARN
handlers = console
qualname =

[logger_sqlalchemy]
# Set to INFO or DEBUG to see SQL statements generated by Alembic
level = WARN
handlers =
qualname = sqlalchemy.engine

[logger_alembic]
# Set to INFO or DEBUG for more Alembic output
level = INFO
handlers =
qualname = alembic

[handler_console]
class = StreamHandler
args = (sys.stderr,)
level = NOTSET
formatter = generic

[formatter_generic]
format = %(levelname)-5.5s [%(name)s] %(message)s
datefmt = %H:%M:%S

# Database connection string.
# Uses environment variable DATABASE_URL defined in .env or system environment.
# Ensure any '%' characters in the password or other parts are escaped as '%%'
# ONLY if setting the URL directly here instead of using the environment variable.
# Example: sqlalchemy.url = postgresql+psycopg2://user:password%%withsymbol@host/dbname
sqlalchemy.url = ${DATABASE_URL}
